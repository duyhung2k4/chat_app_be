datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model roles {
    id BigInt @id @default(autoincrement())

    name String
    code String @unique

    users users[]

    created_at DateTime @default(now())
    updated_at DateTime? @updatedAt
    delete_at DateTime?
}

model users {
    id BigInt @id @default(autoincrement())

    email String @unique
    password String
    
    role_id BigInt
    role roles @relation(fields: [role_id], references: [id])

    profile profiles?

    created_at DateTime @default(now())
    updated_at DateTime? @updatedAt
    delete_at DateTime?
}

model profiles {
    id BigInt @id @default(autoincrement())

    first_name String
    last_name String
    email String @unique
    address String
    gender String
    age Int

    user_id BigInt @unique
    user users @relation(fields: [user_id], references: [id])

    created_at DateTime @default(now())
    updated_at DateTime? @updatedAt
    delete_at DateTime?
}